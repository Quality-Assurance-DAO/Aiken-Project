// Validation helper functions for the milestone token distribution system

use aiken/collection/list

/// Validate that a timestamp is in the future (relative to a reference time)
pub fn validate_timestamp_future(timestamp: Int, reference_time: Int) -> Bool {
  timestamp > reference_time
}

/// Validate that a timestamp has passed (relative to current time)
pub fn validate_timestamp_passed(timestamp: Int, current_time: Int) -> Bool {
  current_time >= timestamp
}

/// Validate that an amount is positive
pub fn validate_amount(amount: Int) -> Bool {
  amount > 0
}

/// Validate that an amount is within a valid range
pub fn validate_amount_range(amount: Int, min: Int, max: Int) -> Bool {
  amount >= min && amount <= max
}

/// Validate that a quorum threshold is valid
pub fn validate_quorum_threshold(threshold: Int, total_oracles: Int) -> Bool {
  threshold > 0 && threshold <= total_oracles
}

/// Validate that total token amount equals sum of allocations
pub fn validate_total_amount(total: Int, allocations: List<Int>) -> Bool {
  let sum = list.foldl(allocations, 0, fn(amount: Int, acc: Int) { acc + amount })
  sum == total
}

test test_validate_amount() {
  validate_amount(100)
}




