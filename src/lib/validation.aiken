// Validation helper functions for the milestone token distribution system

use aiken/builtin.{Address, ByteArray, Int, Bool}

/// Validate that an address is a valid Cardano address
pub fn validate_address(address: Address) -> Bool {
  // Address validation - Aiken's Address type ensures validity
  true
}

/// Validate that a timestamp is in the future (relative to a reference time)
pub fn validate_timestamp_future(timestamp: Int, reference_time: Int) -> Bool {
  timestamp > reference_time
}

/// Validate that a timestamp has passed (relative to current time)
pub fn validate_timestamp_passed(timestamp: Int, current_time: Int) -> Bool {
  current_time >= timestamp
}

/// Validate that an amount is positive
pub fn validate_amount(amount: Int) -> Bool {
  amount > 0
}

/// Validate that an amount is within a valid range
pub fn validate_amount_range(amount: Int, min: Int, max: Int) -> Bool {
  amount >= min && amount <= max
}

/// Validate that a quorum threshold is valid
pub fn validate_quorum_threshold(threshold: Int, total_oracles: Int) -> Bool {
  threshold > 0 && threshold <= total_oracles
}

/// Validate that total token amount equals sum of allocations
pub fn validate_total_amount(total: Int, allocations: List<Int>) -> Bool {
  let sum = list.fold(allocations, 0, fn(acc, amount) { acc + amount })
  sum == total
}

